# Datasource(R2DBC) - use file-based H2 for integration tests to ensure R2DBC and Flyway share the same instance
# Using file-based mode because in-memory mode creates separate instances for JDBC and R2DBC
spring.r2dbc.url=r2dbc:h2:file:///./build/testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.r2dbc.username=sa
spring.r2dbc.password=

# Flyway - Spring Boot 4 requires spring.flyway.url/user for auto DataSource creation
spring.flyway.enabled=true
spring.flyway.url=jdbc:h2:file:./build/testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.flyway.user=${spring.r2dbc.username}
spring.flyway.password=${spring.r2dbc.password}
